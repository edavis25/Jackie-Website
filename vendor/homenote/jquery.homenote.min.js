!function(e){e.fn.homenote=function(t){function r(){var t=e("#purchasePrice").val().replace(/[^0-9\.]/g,""),r=e("#dpamount").val().replace(/[^0-9\.]/g,"");if("percentage"===p.dptype)return r/t*100+"%";var a=r/100;return t*a}function a(){var t=e("#term").val();return"months"===e('input:radio[name="termtype"]:checked').val()?12*t:t/12}function n(){var t=e('input:radio[name="dptype"]:checked').val(),r=e("#purchasePrice").val().replace(/[^0-9\.]/g,""),a=e("#dpamount").val().replace(/[^0-9\.]/g,"");if("percentage"===t){var n=a/100;return r-r*n}return r-a}function l(){var t=e("#term").val();return"months"===e('input:radio[name="termtype"]:checked').val()?t:12*t}function c(){var t=n(),r=e("#rate").val().replace(/[^0-9\.]/g,"")/100/12,a=l(),c=Math.pow(1+r,a),o=(t*(r*c/(c-1))).toFixed(2);return o}function o(){var e="<form id='homenote' role='form' class='well'>";return e+="<div class='form-group'><label for='purchasePrice'>Purchase Price ("+p.currencysym+")</label>",e+="<input type='text' class='form-control' id='purchasePrice' value='"+p.principal+"'></div></hr>",e+="<div class='form-group'><label for='downPayment'>Down Payment</label><input type='text' class='form-control' id='dpamount' value='"+p.dpamount+"'></div>",e+="<label class='radio-inline'><input type='radio' name='dptype' id='downpercentage' value='percentage'","percentage"===p.dptype&&(e+=" checked"),e+=">Percent (%)</label>",e+="<label class='radio-inline'><input type='radio' name='dptype' id='downlump' value='downlump'","downlump"===p.dptype&&(e+=" checked"),e+=">"+p.currency+" ("+p.currencysym+")</label><hr>",e+="<div class='form-group'><label for='rate'>Rate (%)</label><input type='text' class='form-control' id='rate' value='"+p.rate+"'></div><hr>",e+="<div class='form-group'><label for='rate'>Term</label><input type='text' class='form-control' id='term' value='"+p.term+"'></div>",e+="<label class='radio-inline'><input type='radio' name='termtype' id='years' value='years' ","years"===p.termtype&&(e+="checked"),e+=">Years</label>",e+="<label class='radio-inline'><input type='radio' name='termtype' id='months' value='months'","months"===p.termtype&&(e+="checked"),e+=">Months</label><hr>",e+="<div class='alert alert-success' style='display:none;' id='results'></div>",e+="<button type='submit' class='btn btn-primary btn-block' id='calchomenote'>Calculate</button></form>"}var p=e.extend({currencysym:"$",currency:"Dollars",termtype:"years",term:"30",principal:"250,000",dptype:"percentage",dpamount:"20%",rate:"6.5",resulttext:"Your monthly payment:"},t);t=e.extend(p,t),e(document).on("change",'input[name="termtype"]',function(){p.termtype=e(this).val(),e("#term").val(a())}),e(document).on("change",'input[name="dptype"]',function(){p.dptype=e(this).val(),e("#dpamount").val(r())}),e(document).on("click","#calchomenote",function(t){t.preventDefault(),e("#results").hide().html(p.resulttext+" <strong>"+p.currencysym+c()+"</strong>").show()}),e(this).html(o())}}(jQuery);